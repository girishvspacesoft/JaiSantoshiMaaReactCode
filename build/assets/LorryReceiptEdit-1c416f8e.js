import{r as x,a as e}from"./react-bfabd40c.js";import{u as Z,a as _e}from"./react-redux-45d870ba.js";import{L as Ae,A as Pe,D as xe}from"./x-date-pickers-7b1cc7dd.js";import"./Card.module-3bdbfb7f.js";import{aY as je,be as Ve,b7 as ee,b8 as ne,b9 as te,ba as ie,bb as ae,L as Ue,O as Be,al as G,bf as Qe,b3 as Xe,R as We}from"./index-54d20a5c.js";import{T as $e}from"./TransactionDetails-cfe837e9.js";import{a as Ge,b as Je}from"./react-router-622b2d59.js";import{O as Ke,Q as Ze,a as J,i as l,A as B,h as s,V as u,D as en,m as M,l as K}from"./material-e0a59a28.js";import"./@babel-e11bafe1.js";import"./react-dom-b0178e93.js";import"./scheduler-765c72db.js";import"./hoist-non-react-statics-6cfbf744.js";import"./use-sync-external-store-18921cc2.js";import"./@date-io-f382d426.js";import"./dayjs-7f45ce31.js";import"./utils-c03c978f.js";import"./clsx-1229b3e0.js";import"./base-ff50cfe3.js";import"./@popperjs-f3391c26.js";import"./rifm-7b0f12ad.js";import"./system-a1d29c52.js";import"./styled-engine-f3bd09bf.js";import"./@emotion-77835cc8.js";import"./stylis-79144faa.js";import"./private-theming-970ac73c.js";import"./react-transition-group-7ded6f4d.js";import"./dom-helpers-9a525042.js";import"./redux-persist-d9cc1560.js";import"./redux-b7ba668d.js";import"./@reduxjs-4d37e7cf.js";import"./immer-41fd5235.js";import"./redux-thunk-ef899f4c.js";import"./axios-4a70c6fc.js";import"./react-router-dom-60901e53.js";import"./@remix-run-d753ad9e.js";import"./icons-material-4539f19e.js";import"./react-icons-55b3b9a0.js";import"./x-data-grid-cceece3f.js";import"./prop-types-d7fd566a.js";import"./reselect-36a88051.js";const ze={branch:"",lrNo:"",date:new Date,invoiceNo:"",eWayBillNo:"",foNum:"",consignor:null,consignorAddress:"",consignorPhone:"",consignorEmail:"",consignee:null,consigneeAddress:"",consigneePhone:"",consigneeEmail:"",from:"",to:"",totalFreight:"",hamali:"",deliveryCharges:"",lrCharges:10,total:"",materialCost:"",deliveryType:null,serviceTaxBy:null,payType:null,toBilled:null,collectAt:null,payMode:null,bankName:"",chequeNo:"",chequeDate:null,remark:"",transactions:[]},re={branch:{invalid:!1,message:""},date:{invalid:!1,message:""},consignor:{invalid:!1,message:""},consignorAddress:{invalid:!1,message:""},consignorPhone:{invalid:!1,message:""},consignorEmail:{invalid:!1,message:""},from:{invalid:!1,message:""},consignee:{invalid:!1,message:""},consigneeAddress:{invalid:!1,message:""},consigneePhone:{invalid:!1,message:""},consigneeEmail:{invalid:!1,message:""},to:{invalid:!1,message:""},totalFreight:{invalid:!1,message:""},lrCharges:{invalid:!1,message:""},payType:{invalid:!1,message:""},payMode:{invalid:!1,message:""},bankName:{invalid:!1,message:""},chequeNo:{invalid:!1,message:""},chequeDate:{invalid:!1,message:""},transactionDetails:{invalid:!1,message:""}},Dn=()=>{var D,ue,_,ge,ve,he,Ee,pe;const qe=Z(je),{articles:Fe,customers:f,branches:O,places:b}=Z(({lorryreceipt:n})=>n),[a,h]=x.useState(ze),[i,le]=x.useState(re),[H,L]=x.useState(""),I=Z(n=>n.user),se=Ge(),Ie=Je(),oe=_e(),{lrId:Y}=Ie.state;x.useEffect(()=>{const n=Object.keys(i);if(n!=null&&n.length){const t=document.querySelector(`input[name=${n[0]}]`);t==null||t.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}},[i]),x.useEffect(()=>{if(H){const n=document.getElementById("alertError");n==null||n.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}},[H]),x.useEffect(()=>{Y&&Y!==""&&(f!=null&&f.length)&&oe(Ve(Y)).then(({payload:n={}})=>{var o,d,g,E,W,p,z,r,m,y,q,N,F,S,R,j,V,fe,U,be,Q,ye,X,Ne,$,Ce,Te;const{message:t}=(n==null?void 0:n.data)||{};if(t)L(t);else{L("");const C={...n==null?void 0:n.data},A=(o=f==null?void 0:f.map)==null?void 0:o.call(f,v=>v._id),He=(d=A==null?void 0:A.indexOf)==null?void 0:d.call(A,n==null?void 0:n.data.consignor),Ye=f[He],we=(g=A==null?void 0:A.indexOf)==null?void 0:g.call(A,n==null?void 0:n.data.consignee),De=f[we];if(n!=null&&n.data.deliveryType){const v=(z=(p=(W=(E=ee)==null?void 0:E.map)==null?void 0:W.call(E,P=>P.label))==null?void 0:p.indexOf)==null?void 0:z.call(p,n==null?void 0:n.data.deliveryType),T=ee[v];C.deliveryType=T}if(n!=null&&n.data.payType){const v=(q=(y=(m=(r=ne)==null?void 0:r.map)==null?void 0:m.call(r,P=>P.label))==null?void 0:y.indexOf)==null?void 0:q.call(y,n==null?void 0:n.data.payType),T=ne[v];C.payType=T}if(n!=null&&n.data.toBilled){const v=(R=(S=(F=(N=te)==null?void 0:N.map)==null?void 0:F.call(N,P=>P.label))==null?void 0:S.indexOf)==null?void 0:R.call(S,n==null?void 0:n.data.toBilled),T=te[v];C.toBilled=T}if(n!=null&&n.data.collectAt){const v=(fe=(V=(j=b==null?void 0:b.map)==null?void 0:j.call(b,P=>P.name))==null?void 0:V.indexOf)==null?void 0:fe.call(V,n==null?void 0:n.data.collectAt),T=b[v];C.collectAt=T}if(n!=null&&n.data.serviceTaxBy){const v=(ye=(Q=(be=(U=ie)==null?void 0:U.map)==null?void 0:be.call(U,P=>P.label))==null?void 0:Q.indexOf)==null?void 0:ye.call(Q,n==null?void 0:n.data.serviceTaxBy),T=ie[v];C.serviceTaxBy=T}if(C.consignor=Ye,C.consignee=De,C.payMode){const v=(Ce=($=(Ne=(X=ae)==null?void 0:X.map)==null?void 0:Ne.call(X,T=>T.value))==null?void 0:$.indexOf)==null?void 0:Ce.call($,n==null?void 0:n.data.payMode);C.payMode=ae[v]}C.branch=(Te=O==null?void 0:O.find)==null?void 0:Te.call(O,({_id:v})=>v===C.branch),h(C)}}).catch(n=>{L(n.message)})},[Y,f,b]);const me=x.useCallback(()=>{se("/transactions/lorryReceipts")},[se]);x.useEffect(()=>{var t,o,d;let n=0;(t=a.transactions)!=null&&t.length&&((d=(o=a.transactions)==null?void 0:o.forEach)==null||d.call(o,g=>{n+=+g.freight})),h(g=>({...g,totalFreight:n}))},[a.transactions]),x.useEffect(()=>{const n=+a.totalFreight+ +a.deliveryCharges+ +a.lrCharges+ +a.hamali;h(t=>({...t,total:n}))},[a.totalFreight,a.deliveryCharges,a.lrCharges,a.hamali]);const ke=()=>{me()},c=n=>{const t=n.target.name,o=n.target.value;h(d=>({...d,[t]:o}))},w=(n,t,o=!1)=>{var d,g,E,W,p,z;if(n.preventDefault(),!Se(a)){const r={...a,branch:(d=a==null?void 0:a.branch)==null?void 0:d._id,user:((g=I==null?void 0:I.employee)==null?void 0:g.name)||""};r.consignor&&(r.consignor=r.consignor._id,r.consignee=r.consignee._id),r.deliveryType&&(r.deliveryType=r.deliveryType.value),r.payType&&(r.payType=r.payType.value),r.toBilled&&(r.toBilled=r.toBilled.value),r.collectAt&&(r.collectAt=r.collectAt.value),(E=r.serviceTaxBy)!=null&&E.value&&(r.serviceTaxBy=(W=r.serviceTaxBy)==null?void 0:W.value),(z=(p=r.transactions)==null?void 0:p.forEach)==null||z.call(p,m=>{m.article=m.article.label?m.article.label:m.article,m.rateType=m.rateType.label?m.rateType.label:m.rateType}),r.payMode&&(r.payMode=r.payMode.value),r.isSaveAndPrint=t,r.isWithoutAmount=o,oe(Qe(r)).then(({payload:m={}})=>{const{message:y,file:q}=(m==null?void 0:m.data)||{};if(y)L(y);else{if(q){const N=Xe(q);if(N){const F=window.open(N,"_blank");F.focus(),F.print()}}L(""),le(re),h(ze),me()}}).catch(m=>{L(m.message)})}},ce=(n,t)=>{n.preventDefault(),w(n,!0,t)},Se=n=>{var d,g,E,W,p,z,r,m,y,q,N,F,S,R;const t={...re};n.branch||(t.branch={invalid:!0,message:"Branch is required"}),!n.consignor&&!((g=(d=n.consignorName)==null?void 0:d.trim)!=null&&g.call(d))&&(t.consignor={invalid:!0,message:"Consignor is required"}),n.consignorAddress||(t.consignorAddress={invalid:!0,message:"Consignor address is required"}),(W=(E=n.from)==null?void 0:E.trim)!=null&&W.call(E)||(t.from={invalid:!0,message:"From is required"}),!n.consignee&&!((z=(p=n.consigneeName)==null?void 0:p.trim)!=null&&z.call(p))&&(t.consignee={invalid:!0,message:"Consignee is required"}),n.consigneeAddress||(t.consigneeAddress={invalid:!0,message:"Consignee address is required"}),(m=(r=n.consigneeEmail)==null?void 0:r.trim)!=null&&m.call(r)&&!We.test(n.consigneeEmail)&&(t.consigneeEmail={invalid:!0,message:"Email is invalid"}),(q=(y=n.consignorEmail)==null?void 0:y.trim)!=null&&q.call(y)&&!We.test(n.consignorEmail)&&(t.consignorEmail={invalid:!0,message:"Email is invalid"}),(F=(N=n.to)==null?void 0:N.trim)!=null&&F.call(N)||(t.to={invalid:!0,message:"To is required"}),(S=n.transactions)!=null&&S.length?((R=n.transactions)==null?void 0:R.length)>5&&(t.transactionDetails={invalid:!0,message:"More than 5 articles are not allowed."}):t.transactionDetails={invalid:!0,message:"At lease 1 transaction is required"},n.lrCharges||(t.lrCharges={invalid:!0,message:"LR charges are required"}),n.payType||(t.payType={invalid:!0,message:"Payment type is required"}),!n.payMode&&n.payType==="Paid"&&(t.payMode={invalid:!0,message:"Payment mode is required"}),n.payType&&n.payType.value&&n.payType.value==="Paid"&&n.payMode&&n.payMode.value==="By Cheque"&&(n.bankName||(t.bankName={invalid:!0,message:"Bank name is required"}),n.chequeNo||(t.chequeNo={invalid:!0,message:"Cheque no is required"}),n.chequeDate||(t.chequeDate={invalid:!0,message:"Cheque date is required"}));let o=!1;for(const j in t)t[j].invalid===!0&&(o=!0);return o&&le(t),o},de=(n,t)=>{h(o=>({...o,[n]:new Date(t)}))},Oe=(n,t)=>{t?typeof t=="object"&&h(o=>({...o,consignor:t,consignorName:t.label,consignorAddress:t.address,from:t.city,consignorPhone:t.telephone,consignorEmail:t.email})):h(o=>({...o,consignor:null,consignorName:"",consignorAddress:"",consignorPhone:"",consignorEmail:"",from:""}))},Le=({target:n})=>{h(t=>({...t,consignorName:n.value}))},Re=(n,t)=>{t?typeof t=="object"&&h(o=>({...o,consignee:t,consigneeName:t.label,consigneeAddress:t.address,to:t.city,consigneePhone:t.telephone,consigneeEmail:t.email})):h(o=>({...o,consignee:null,consigneeName:"",consigneeAddress:"",consigneePhone:"",consigneeEmail:"",to:""}))},Me=({target:n})=>{h(t=>({...t,consigneeName:n.value}))},k=(n,t,o)=>{h(d=>{var g;return{...d,[o]:t,...o==="branch"?{collectAt:(g=b==null?void 0:b.find)==null?void 0:g.call(b,({_id:E})=>E===(t==null?void 0:t.place))}:{}}})};return e.createElement(e.Fragment,null,qe&&e.createElement(Ue,null),e.createElement("h1",{className:"pageHead"},"Edit a lorry receipt"),e.createElement("div",{className:"inner-wrap"},H!==""&&e.createElement(Ke,{sx:{width:"100%",margin:"0 0 30px 0",border:"1px solid red",borderRadius:"4px"},spacing:2},e.createElement(Ze,{id:"alertError",severity:"error"},H)),e.createElement("form",{action:"",onSubmit:w,id:"lorryReceiptForm"},e.createElement(J,{sx:{padding:"20px",marginBottom:"20px"}},e.createElement("div",{className:"grid grid-6-col"},e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,size:"small",error:i.branch.invalid},e.createElement(B,{disablePortal:!0,size:"small",name:"branch",options:O,value:a.branch||null,onChange:(n,t)=>k(n,t,"branch"),getOptionLabel:n=>n.name,openOnFocus:!0,disabled:I&&I.type&&((ue=(D=I.type)==null?void 0:D.toLowerCase)==null?void 0:ue.call(D))!=="superadmin"&&((ge=(_=I.type)==null?void 0:_.toLowerCase)==null?void 0:ge.call(_))!=="admin",renderInput:n=>e.createElement(s,{...n,label:"Branch",name:"branch",error:i.branch.invalid,fullWidth:!0})}),i.branch.invalid&&e.createElement(u,null,i.branch.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",variant:"outlined",label:"LR no.",value:a.lrNo,onChange:c,name:"lrNo",id:"lrNo",inputProps:{readOnly:!0}}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(Ae,{dateAdapter:Pe},e.createElement(xe,{label:"Date",inputFormat:"DD/MM/YYYY",value:a.date,onChange:de.bind(null,"date"),renderInput:n=>e.createElement(s,{name:"date",size:"small",...n})})))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",variant:"outlined",label:"Invoice no.",value:a.invoiceNo,onChange:c,name:"invoiceNo",id:"invoiceNo",inputProps:{maxLength:50}}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",variant:"outlined",label:"E-Way bill no",value:a.eWayBillNo,onChange:c,name:"eWayBillNo",id:"eWayBillNo",inputProps:{maxLength:50}}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",variant:"outlined",label:"FO no",value:a.foNum,onChange:c,name:"foNum",id:"foNum"}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,size:"small",error:i.consignor.invalid},e.createElement(B,{id:"consignor",freeSolo:!0,autoSelect:!0,size:"small",name:"consignor",options:f,value:a.consignor,onChange:Oe,openOnFocus:!0,renderInput:n=>e.createElement(s,{...n,label:"Consignor",name:"consignor",onChange:t=>Le(t),error:i.consignor.invalid,fullWidth:!0})}),i.consignor.invalid&&e.createElement(u,null,i.consignor.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.consignorAddress.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"Consignor address",value:a.consignorAddress,error:i.consignorAddress.invalid,onChange:c,name:"consignorAddress",id:"consignorAddress"}),i.consignorAddress.invalid&&e.createElement(u,null,i.consignorAddress.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.consignorPhone.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"Consignor phone",value:a.consignorPhone,error:i.consignorPhone.invalid,onChange:c,onInput:Be,name:"consignorPhone",id:"consignorPhone"}),i.consignorPhone.invalid&&e.createElement(u,null,i.consignorPhone.message)))," ",e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.consignorEmail.invalid},e.createElement(s,{type:"text",size:"small",variant:"outlined",label:"Consignor email",value:a.consignorEmail||"",error:i.consignorEmail.invalid,onChange:c,name:"consignorEmail",id:"consignorEmail"}),i.consignorEmail.invalid&&e.createElement(u,null,i.consignorEmail.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.from.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"From",error:i.from.invalid,value:a.from,onChange:c,name:"from",id:"from"}),i.from.invalid&&e.createElement(u,null,i.from.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,size:"small",error:i.consignee.invalid},e.createElement(B,{id:"consignee",freeSolo:!0,autoSelect:!0,size:"small",name:"consignee",options:f,value:a.consignee,onChange:Re,openOnFocus:!0,renderInput:n=>e.createElement(s,{...n,label:"Consignee",name:"consignee",onChange:t=>Me(t),error:i.consignee.invalid,fullWidth:!0})}),i.consignee.invalid&&e.createElement(u,null,i.consignee.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.consigneeAddress.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"Consignee address",value:a.consigneeAddress,error:i.consigneeAddress.invalid,onChange:c,name:"consigneeAddress",id:"consigneeAddress"}),i.consigneeAddress.invalid&&e.createElement(u,null,i.consigneeAddress.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.consigneePhone.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"Consignee phone",value:a.consigneePhone,error:i.consigneePhone.invalid,onChange:c,onInput:Be,name:"consigneePhone",id:"consigneePhone"}),i.consigneePhone.invalid&&e.createElement(u,null,i.consigneePhone.message)))," ",e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.consigneeEmail.invalid},e.createElement(s,{type:"text",size:"small",variant:"outlined",label:"Consignee email",value:a.consigneeEmail||"",error:i.consigneeEmail.invalid,onChange:c,name:"consigneeEmail",id:"consigneeEmail"}),i.consigneeEmail.invalid&&e.createElement(u,null,i.consigneeEmail.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.to.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"To",error:i.to.invalid,value:a.to,onChange:c,name:"to",id:"to"}),i.to.invalid&&e.createElement(u,null,i.to.message)))))),e.createElement("h2",{className:"mb20"},"Transactions details"),i.transactionDetails.invalid&&e.createElement("p",{className:"error"},i.transactionDetails.message),e.createElement(J,{sx:{padding:"20px",marginBottom:"20px"}},e.createElement($e,{articles:Fe,lorryReceipt:a,setLorryReceipt:h}),e.createElement(en,{sx:{margin:"20px 0"}}),e.createElement("form",{action:"",onSubmit:w,id:"lorryReceiptForm"},e.createElement("div",{className:"grid grid-7-col"},e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",type:"number",variant:"outlined",label:"Total freight",value:a.totalFreight,name:"totalFreight",id:"totalFreight",InputProps:{readOnly:!0,startAdornment:e.createElement(M,{position:"start"},"₹")}}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",variant:"outlined",label:"Delivery charges",value:a.deliveryCharges||"",name:"deliveryCharges",id:"deliveryCharges",onChange:c,onInput:G,InputProps:{startAdornment:e.createElement(M,{position:"start"},"₹")}}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.lrCharges.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"LR charges",value:a.lrCharges||"",error:i.lrCharges.invalid,name:"lrCharges",id:"lrCharges",onChange:c,onInput:G,InputProps:{startAdornment:e.createElement(M,{position:"start"},"₹")}}),i.lrCharges.invalid&&e.createElement(u,null,i.lrCharges.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",variant:"outlined",label:"Hamali",value:a.hamali||"",name:"hamali",id:"hamali",onChange:c,onInput:G,InputProps:{startAdornment:e.createElement(M,{position:"start"},"₹")}}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",type:"number",variant:"outlined",label:"Total",value:a.total,name:"total",id:"total",InputProps:{readOnly:!0,startAdornment:e.createElement(M,{position:"start"},"₹")}})))))),e.createElement("form",{action:"",onSubmit:w,id:"lorryReceiptForm"},e.createElement("h2",{className:"mb20"},"Billing details"),e.createElement(J,{sx:{padding:"20px",marginBottom:"20px"}},e.createElement("div",{className:"grid grid-6-col"},e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",variant:"outlined",label:"Material cost",value:a.materialCost||"",onChange:c,onInput:G,name:"materialCost",id:"materialCost"}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,size:"small"},e.createElement(B,{disablePortal:!0,autoSelect:!0,autoHighlight:!0,size:"small",name:"deliveryType",options:ee,value:a.deliveryType,onChange:(n,t)=>k(n,t,"deliveryType"),disabled:!0,openOnFocus:!0,renderInput:n=>e.createElement(s,{...n,name:"deliveryType",label:"Delivery type",fullWidth:!0})}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,size:"small",error:i.payType.invalid},e.createElement(B,{disablePortal:!0,autoSelect:!0,autoHighlight:!0,size:"small",name:"payType",options:ne,value:a.payType,onChange:(n,t)=>k(n,t,"payType"),openOnFocus:!0,renderInput:n=>e.createElement(s,{...n,label:"Pay type",name:"payType",error:i.payType.invalid,fullWidth:!0})}),i.payType.invalid&&e.createElement(u,null,i.payType.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,size:"small"},e.createElement(B,{disablePortal:!0,autoSelect:!0,autoHighlight:!0,size:"small",name:"toBilled",options:te,value:a.toBilled,onChange:(n,t)=>k(n,t,"toBilled"),openOnFocus:!0,renderInput:n=>e.createElement(s,{...n,name:"toBilled",label:"To billed",fullWidth:!0})}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,size:"small"},e.createElement(B,{disablePortal:!0,autoSelect:!0,autoHighlight:!0,size:"small",name:"collectAt",options:b,value:a.collectAt,onChange:(n,t)=>k(n,t,"collectAt"),openOnFocus:!0,renderInput:n=>e.createElement(s,{...n,name:"collectAt",label:"Collect at",fullWidth:!0})}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,size:"small"},e.createElement(B,{disablePortal:!0,autoSelect:!0,autoHighlight:!0,size:"small",name:"serviceTaxBy",options:ie,value:a.serviceTaxBy,onChange:(n,t)=>k(n,t,"serviceTaxBy"),openOnFocus:!0,renderInput:n=>e.createElement(s,{...n,name:"serviceTaxBy",label:"Service tax by",fullWidth:!0})}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.payMode.invalid},e.createElement(B,{disablePortal:!0,autoSelect:!0,autoHighlight:!0,size:"small",name:"payMode",options:ae,value:a.payMode,disabled:((ve=a.payType)==null?void 0:ve.value)!=="Paid",onChange:(n,t)=>k(n,t,"payMode"),openOnFocus:!0,renderInput:n=>e.createElement(s,{...n,label:"Pay mode",name:"payMode",error:i.payMode.invalid,fullWidth:!0})}),i.payMode.invalid&&e.createElement(u,null,i.payMode.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.bankName.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"Bank name",value:a.bankName,onChange:c,error:i.bankName.invalid,disabled:((he=a.payMode)==null?void 0:he.value)!=="By Cheque",name:"bankName",id:"bankName"}),i.bankName.invalid&&e.createElement(u,null,i.bankName.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.chequeNo.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"Cheque no",value:a.chequeNo,onChange:c,error:i.chequeNo.invalid,disabled:((Ee=a.payMode)==null?void 0:Ee.value)!=="By Cheque",name:"chequeNo",id:"chequeNo"}),i.chequeNo.invalid&&e.createElement(u,null,i.chequeNo.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.chequeDate.invalid},e.createElement(Ae,{dateAdapter:Pe},e.createElement(xe,{label:"Date",inputFormat:"DD/MM/YYYY",value:a.chequeDate,onChange:de.bind(null,"chequeDate"),error:i.chequeDate.invalid,disabled:((pe=a.payMode)==null?void 0:pe.value)!=="By Cheque",renderInput:n=>e.createElement(s,{name:"date",size:"small",...n,error:i.chequeDate.invalid})})),i.chequeDate.invalid&&e.createElement(u,null,i.chequeDate.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",variant:"outlined",label:"Remark",value:a.remark,onChange:c,name:"remark",id:"remark"})))))),e.createElement(J,{sx:{padding:"20px",marginBottom:"20px"}},e.createElement("div",{className:"right"},e.createElement(K,{variant:"outlined",size:"medium",onClick:ke},"Back"),e.createElement(K,{variant:"contained",size:"medium",type:"submit",color:"primary",form:"lorryReceiptForm",className:"ml6"},"Save"),e.createElement(K,{variant:"contained",size:"medium",type:"button",color:"primary",form:"lorryReceiptForm",className:"ml6",onClick:ce},"Save & Print"),e.createElement(K,{variant:"contained",size:"medium",type:"button",color:"primary",form:"lorryReceiptForm",className:"ml6",onClick:n=>ce(n,!0)},"Save & Print w/o Amount")))))};export{Dn as default};
