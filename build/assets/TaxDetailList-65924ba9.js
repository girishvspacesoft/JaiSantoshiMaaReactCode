import{r as h,a as e}from"./react-bfabd40c.js";import{d as A}from"./dayjs-7f45ce31.js";import{L as C,A as F,D as S}from"./x-date-pickers-7b1cc7dd.js";import{al as M,a4 as z}from"./index-7982e8fd.js";import{a as $,w as y,i as u,A as W,h as p,V as N,l as B,X as P,Y as q,Z as H,f as k}from"./material-e0a59a28.js";import{g as L,e as R,f as j}from"./icons-material-4539f19e.js";const _={taxType:{invalid:!1,message:""},amount:{invalid:!1,message:""},startDate:{invalid:!1,message:""},endDate:{invalid:!1,message:""}},x={taxType:"",amount:"",startDate:null,endDate:null,description:""},Q=({onTaxDetailAdd:o,editTaxDetail:s})=>{const[a,E]=h.useState(_),[c,i]=h.useState(x);h.useEffect(()=>{s&&(s.startDate&&(s.startDate=A(s.startDate)),s.endDate&&(s.endDate=A(s.endDate)),i(s))},[s]);const v=t=>{const n=t.target.name,m=t.target.value;i(d=>({...d,[n]:m}))},D=(t,n)=>{i(m=>({...m,[n]:t}))},b=(t,n)=>{i(m=>({...m,[t]:n}))},g=t=>{var d,Y,f,T;const n={..._};(Y=(d=t.taxType)==null?void 0:d.trim)!=null&&Y.call(d)||(n.taxType={invalid:!0,message:"Tax type is required"}),(T=(f=t.amount)==null?void 0:f.trim)!=null&&T.call(f)||(n.amount={invalid:!0,message:"Amount is required"}),isNaN(t.amount)&&isNaN(parseFloat(t.amount))&&(n.amount={invalid:!0,message:"Amount should be a number"}),t.startDate||(n.startDate={invalid:!0,message:"Start date is required"}),t.endDate||(n.endDate={invalid:!0,message:"End date is required"});let m=!1;for(const I in n)n[I].invalid===!0&&(m=!0);return m&&E(n),m},l=t=>{t.preventDefault(),g(c)||(o(c),E(_),i(x))};return e.createElement("form",{action:"",id:"taxDetailForm",onSubmit:l},e.createElement($,{sx:{padding:"20px",marginBottom:"20px"}},e.createElement(y,{variant:"h6",gutterBottom:!0},"Tax details"),e.createElement("div",{className:"grid grid-3-col"},e.createElement("div",{className:"grid-item"},e.createElement(u,{fullWidth:!0,size:"small",error:a.taxType.invalid},e.createElement(W,{disablePortal:!0,autoSelect:!0,size:"small",name:"taxType",options:["Insurance","Road tax","Fitness","PUC","RTO"],freeSolo:!0,value:c.taxType,onChange:(t,n)=>D(n,"taxType"),openOnFocus:!0,renderInput:t=>e.createElement(p,{...t,label:"Tax type",error:a.taxType.invalid,fullWidth:!0})}),a.taxType.invalid&&e.createElement(N,null,a.taxType.message))),e.createElement("div",{className:"grid-item"},e.createElement(u,{fullWidth:!0,error:a.amount.invalid},e.createElement(p,{size:"small",variant:"outlined",label:"Amount",value:c.amount||"",error:a.amount.invalid,onChange:v,onInput:M,name:"amount",id:"amount"}),a.amount.invalid&&e.createElement(N,null,a.amount.message))),e.createElement("div",{className:"grid-item"},e.createElement(u,{fullWidth:!0,error:a.startDate.invalid},e.createElement(C,{dateAdapter:F},e.createElement(S,{label:"Start date",inputFormat:"DD/MM/YYYY",format:"DD/MM/YYYY",value:c.startDate,onChange:b.bind(null,"startDate"),error:a.startDate.invalid,renderInput:t=>e.createElement(p,{name:"startDate",size:"small",...t,error:a.startDate.invalid})})),a.startDate.invalid&&e.createElement(N,null,a.startDate.message))),e.createElement("div",{className:"grid-item"},e.createElement(u,{fullWidth:!0,error:a.endDate.invalid},e.createElement(C,{dateAdapter:F},e.createElement(S,{label:"End date",inputFormat:"DD/MM/YYYY",format:"DD/MM/YYYY",value:c.endDate,error:a.endDate.invalid,onChange:b.bind(null,"endDate"),renderInput:t=>e.createElement(p,{name:"endDate",size:"small",...t,error:a.endDate.invalid})})),a.endDate.invalid&&e.createElement(N,null,a.endDate.message))),e.createElement("div",{className:"grid-item"},e.createElement(u,{fullWidth:!0},e.createElement(p,{size:"small",variant:"outlined",label:"Description",value:c.description,onChange:v,name:"description",id:"description"})))),e.createElement("div",{className:"right"},e.createElement(B,{variant:"contained",size:"medium",type:"submit",color:"primary",form:"taxDetailForm"},s?"Update":"Add"))))},w="_accordion_content_1sack_1",O="_label_1sack_5",U="_content_1sack_12",r={accordion_content:w,label:O,content:U},ee=({taxDetails:o,handleTriggerEdit:s,handleTriggerDelete:a})=>{var g;const[E,c]=h.useState("panel0"),i=l=>(t,n)=>{c(n?l:!1)},v=l=>{s(l)},D=l=>{a(l)};return o&&(o==null?void 0:o.length)>0?(g=o==null?void 0:o.map)==null?void 0:g.call(o,(l,t)=>e.createElement(P,{key:`panel${t}`,expanded:E===`panel${t}`,onChange:i(`panel${t}`)},e.createElement(q,{expandIcon:e.createElement(L,null),"aria-controls":`panel${t}-content`,id:`panel${t}-header`},e.createElement(y,{sx:{width:"33%",flexShrink:0,color:"text.secondary"}},"Tax detail ",t+1),e.createElement(y,null,l.type)),e.createElement(H,null,e.createElement("div",{className:r.accordion_content},e.createElement("p",{className:r.label},"Tax type:"),e.createElement("p",{className:r.content},l.taxType)),e.createElement("div",{className:r.accordion_content},e.createElement("p",{className:r.label},"Amount:"),e.createElement("p",{className:r.content},l.amount)),e.createElement("div",{className:r.accordion_content},e.createElement("p",{className:r.label},"State date:"),e.createElement("p",{className:r.content},z(l.startDate))),e.createElement("div",{className:r.accordion_content},e.createElement("p",{className:r.label},"End date:"),e.createElement("p",{className:r.content},z(l.endDate))),e.createElement("div",{className:r.accordion_content},e.createElement("p",{className:r.label},"Description:"),e.createElement("p",{className:r.content},l.description)),e.createElement("div",{className:"right"},e.createElement(k,{size:"small",onClick:v.bind(null,t),color:"primary"},e.createElement(R,null)),"  ",e.createElement(k,{size:"small",onClick:D.bind(null,t),color:"error"},e.createElement(j,null)))))):e.createElement(y,{variant:"h7",gutterBottom:!0},"No tax details added")};export{Q as T,ee as a};
