import{r as l,j as X}from"./react-ef3a9354.js";import{u as se,a as rt,b as oe,o as G,c as fe,s as Fe,g as Ct,d as Tt,e as Ot,f as kt,h as me,i as Ye,j as It,k as At,l as He}from"./utils-7edb168f.js";import{_ as D,d as Se}from"./@babel-5e587562.js";import{r as ot}from"./react-dom-7dcc36ef.js";import{c as Ht}from"./@popperjs-f3391c26.js";function Nt(e){return typeof e=="string"}function Lt(e,n,s){return e===void 0||Nt(e)?n:D({},n,{ownerState:D({},n.ownerState,s)})}const Ft={disableDefaultClasses:!1},Dt=l.createContext(Ft);function Mt(e){const{disableDefaultClasses:n}=l.useContext(Dt);return s=>n?"":e(s)}function we(e,n=[]){if(e===void 0)return{};const s={};return Object.keys(e).filter(t=>t.match(/^on[A-Z]/)&&typeof e[t]=="function"&&!n.includes(t)).forEach(t=>{s[t]=e[t]}),s}function $t(e,n,s){return typeof e=="function"?e(n,s):e}function st(e){var n,s,t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(s=st(e[n]))&&(t&&(t+=" "),t+=s);else for(n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function Ze(){for(var e,n,s=0,t="";s<arguments.length;)(e=arguments[s++])&&(n=st(e))&&(t&&(t+=" "),t+=n);return t}function Xe(e){if(e===void 0)return{};const n={};return Object.keys(e).filter(s=>!(s.match(/^on[A-Z]/)&&typeof e[s]=="function")).forEach(s=>{n[s]=e[s]}),n}function Bt(e){const{getSlotProps:n,additionalProps:s,externalSlotProps:t,externalForwardedProps:a,className:i}=e;if(!n){const P=Ze(a==null?void 0:a.className,t==null?void 0:t.className,i,s==null?void 0:s.className),p=D({},s==null?void 0:s.style,a==null?void 0:a.style,t==null?void 0:t.style),R=D({},s,a,t);return P.length>0&&(R.className=P),Object.keys(p).length>0&&(R.style=p),{props:R,internalRef:void 0}}const u=we(D({},a,t)),c=Xe(t),h=Xe(a),y=n(u),m=Ze(y==null?void 0:y.className,s==null?void 0:s.className,i,a==null?void 0:a.className,t==null?void 0:t.className),x=D({},y==null?void 0:y.style,s==null?void 0:s.style,a==null?void 0:a.style,t==null?void 0:t.style),T=D({},y,s,h,c);return m.length>0&&(T.className=m),Object.keys(x).length>0&&(T.style=x),{props:T,internalRef:y.ref}}const Vt=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Kt(e){var n;const{elementType:s,externalSlotProps:t,ownerState:a,skipResolvingSlotProps:i=!1}=e,u=Se(e,Vt),c=i?{}:$t(t,a),{props:h,internalRef:y}=Bt(D({},u,{externalSlotProps:c})),m=se(y,c==null?void 0:c.ref,(n=e.additionalProps)==null?void 0:n.ref);return Lt(s,D({},h,{ref:m}),a)}function wn(e){const{badgeContent:n,invisible:s=!1,max:t=99,showZero:a=!1}=e,i=rt({badgeContent:n,max:t});let u=s;s===!1&&n===0&&!a&&(u=!0);const{badgeContent:c,max:h=t}=u?i:e,y=c&&Number(c)>h?`${h}+`:c;return{badgeContent:c,invisible:u,max:h,displayValue:y}}function Ge(e){return e.substring(2).toLowerCase()}function zt(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}function Sn(e){const{children:n,disableReactTree:s=!1,mouseEvent:t="onClick",onClickAway:a,touchEvent:i="onTouchEnd"}=e,u=l.useRef(!1),c=l.useRef(null),h=l.useRef(!1),y=l.useRef(!1);l.useEffect(()=>(setTimeout(()=>{h.current=!0},0),()=>{h.current=!1}),[]);const m=se(n.ref,c),x=oe(p=>{const R=y.current;y.current=!1;const H=G(c.current);if(!h.current||!c.current||"clientX"in p&&zt(p,H))return;if(u.current){u.current=!1;return}let E;p.composedPath?E=p.composedPath().indexOf(c.current)>-1:E=!H.documentElement.contains(p.target)||c.current.contains(p.target),!E&&(s||!R)&&a(p)}),T=p=>R=>{y.current=!0;const H=n.props[p];H&&H(R)},P={ref:m};return i!==!1&&(P[i]=T(i)),l.useEffect(()=>{if(i!==!1){const p=Ge(i),R=G(c.current),H=()=>{u.current=!0};return R.addEventListener(p,x),R.addEventListener("touchmove",H),()=>{R.removeEventListener(p,x),R.removeEventListener("touchmove",H)}}},[x,i]),t!==!1&&(P[t]=T(t)),l.useEffect(()=>{if(t!==!1){const p=Ge(t),R=G(c.current);return R.addEventListener(p,x),()=>{R.removeEventListener(p,x)}}},[x,t]),X.jsx(l.Fragment,{children:l.cloneElement(n,P)})}const Ut=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Wt(e){const n=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(n)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:n}function jt(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const n=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let s=n(`[name="${e.name}"]:checked`);return s||(s=n(`[name="${e.name}"]`)),s!==e}function _t(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||jt(e))}function qt(e){const n=[],s=[];return Array.from(e.querySelectorAll(Ut)).forEach((t,a)=>{const i=Wt(t);i===-1||!_t(t)||(i===0?n.push(t):s.push({documentOrder:a,tabIndex:i,node:t}))}),s.sort((t,a)=>t.tabIndex===a.tabIndex?t.documentOrder-a.documentOrder:t.tabIndex-a.tabIndex).map(t=>t.node).concat(n)}function Yt(){return!0}function Cn(e){const{children:n,disableAutoFocus:s=!1,disableEnforceFocus:t=!1,disableRestoreFocus:a=!1,getTabbable:i=qt,isEnabled:u=Yt,open:c}=e,h=l.useRef(!1),y=l.useRef(null),m=l.useRef(null),x=l.useRef(null),T=l.useRef(null),P=l.useRef(!1),p=l.useRef(null),R=se(n.ref,p),H=l.useRef(null);l.useEffect(()=>{!c||!p.current||(P.current=!s)},[s,c]),l.useEffect(()=>{if(!c||!p.current)return;const d=G(p.current);return p.current.contains(d.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),P.current&&p.current.focus()),()=>{a||(x.current&&x.current.focus&&(h.current=!0,x.current.focus()),x.current=null)}},[c]),l.useEffect(()=>{if(!c||!p.current)return;const d=G(p.current),C=S=>{H.current=S,!(t||!u()||S.key!=="Tab")&&d.activeElement===p.current&&S.shiftKey&&(h.current=!0,m.current&&m.current.focus())},k=()=>{const S=p.current;if(S===null)return;if(!d.hasFocus()||!u()||h.current){h.current=!1;return}if(S.contains(d.activeElement)||t&&d.activeElement!==y.current&&d.activeElement!==m.current)return;if(d.activeElement!==T.current)T.current=null;else if(T.current!==null)return;if(!P.current)return;let M=[];if((d.activeElement===y.current||d.activeElement===m.current)&&(M=i(p.current)),M.length>0){var K,A;const w=!!((K=H.current)!=null&&K.shiftKey&&((A=H.current)==null?void 0:A.key)==="Tab"),W=M[0],V=M[M.length-1];typeof W!="string"&&typeof V!="string"&&(w?V.focus():W.focus())}else S.focus()};d.addEventListener("focusin",k),d.addEventListener("keydown",C,!0);const I=setInterval(()=>{d.activeElement&&d.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval(I),d.removeEventListener("focusin",k),d.removeEventListener("keydown",C,!0)}},[s,t,a,u,c,i]);const E=d=>{x.current===null&&(x.current=d.relatedTarget),P.current=!0,T.current=d.target;const C=n.props.onFocus;C&&C(d)},v=d=>{x.current===null&&(x.current=d.relatedTarget),P.current=!0};return X.jsxs(l.Fragment,{children:[X.jsx("div",{tabIndex:c?0:-1,onFocus:v,ref:y,"data-testid":"sentinelStart"}),l.cloneElement(n,{ref:R,onFocus:E}),X.jsx("div",{tabIndex:c?0:-1,onFocus:v,ref:m,"data-testid":"sentinelEnd"})]})}function Zt(e){return typeof e=="function"?e():e}const Xt=l.forwardRef(function(n,s){const{children:t,container:a,disablePortal:i=!1}=n,[u,c]=l.useState(null),h=se(l.isValidElement(t)?t.ref:null,s);if(fe(()=>{i||c(Zt(a)||document.body)},[a,i]),fe(()=>{if(u&&!i)return Fe(s,u),()=>{Fe(s,null)}},[s,u,i]),i){if(l.isValidElement(t)){const y={ref:h};return l.cloneElement(t,y)}return X.jsx(l.Fragment,{children:t})}return X.jsx(l.Fragment,{children:u&&ot.createPortal(t,u)})});function Gt(e){return Ct("MuiPopper",e)}Tt("MuiPopper",["root"]);const Jt=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Qt=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function en(e,n){if(n==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function De(e){return typeof e=="function"?e():e}function tn(e){return e.nodeType!==void 0}const nn=()=>Ot({root:["root"]},Mt(Gt)),rn={},on=l.forwardRef(function(n,s){var t;const{anchorEl:a,children:i,direction:u,disablePortal:c,modifiers:h,open:y,placement:m,popperOptions:x,popperRef:T,slotProps:P={},slots:p={},TransitionProps:R}=n,H=Se(n,Jt),E=l.useRef(null),v=se(E,s),d=l.useRef(null),C=se(d,T),k=l.useRef(C);fe(()=>{k.current=C},[C]),l.useImperativeHandle(T,()=>d.current,[]);const I=en(m,u),[S,M]=l.useState(I),[K,A]=l.useState(De(a));l.useEffect(()=>{d.current&&d.current.forceUpdate()}),l.useEffect(()=>{a&&A(De(a))},[a]),fe(()=>{if(!K||!y)return;const Y=j=>{M(j.placement)};let N=[{name:"preventOverflow",options:{altBoundary:c}},{name:"flip",options:{altBoundary:c}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:j})=>{Y(j)}}];h!=null&&(N=N.concat(h)),x&&x.modifiers!=null&&(N=N.concat(x.modifiers));const F=Ht(K,E.current,D({placement:I},x,{modifiers:N}));return k.current(F),()=>{F.destroy(),k.current(null)}},[K,c,h,y,x,I]);const w={placement:S};R!==null&&(w.TransitionProps=R);const W=nn(),V=(t=p.root)!=null?t:"div",ie=Kt({elementType:V,externalSlotProps:P.root,externalForwardedProps:H,additionalProps:{role:"tooltip",ref:v},ownerState:n,className:W.root});return X.jsx(V,D({},ie,{children:typeof i=="function"?i(w):i}))}),Tn=l.forwardRef(function(n,s){const{anchorEl:t,children:a,container:i,direction:u="ltr",disablePortal:c=!1,keepMounted:h=!1,modifiers:y,open:m,placement:x="bottom",popperOptions:T=rn,popperRef:P,style:p,transition:R=!1,slotProps:H={},slots:E={}}=n,v=Se(n,Qt),[d,C]=l.useState(!0),k=()=>{C(!1)},I=()=>{C(!0)};if(!h&&!m&&(!R||d))return null;let S;if(i)S=i;else if(t){const A=De(t);S=A&&tn(A)?G(A).body:G(null).body}const M=!m&&h&&(!R||d)?"none":void 0,K=R?{in:m,onEnter:k,onExited:I}:void 0;return X.jsx(Xt,{disablePortal:c,container:S,children:X.jsx(on,D({anchorEl:t,direction:u,disablePortal:c,modifiers:y,ref:s,open:R?!d:m,placement:x,popperOptions:T,popperRef:P,slotProps:H,slots:E},v,{style:D({position:"fixed",top:0,left:0,display:M},p),TransitionProps:K,children:a}))})});function sn(e){const n=G(e);return n.body===e?me(e).innerWidth>n.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function ge(e,n){n?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Je(e){return parseInt(me(e).getComputedStyle(e).paddingRight,10)||0}function ln(e){const s=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,t=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return s||t}function Qe(e,n,s,t,a){const i=[n,s,...t];[].forEach.call(e.children,u=>{const c=i.indexOf(u)===-1,h=!ln(u);c&&h&&ge(u,a)})}function Ne(e,n){let s=-1;return e.some((t,a)=>n(t)?(s=a,!0):!1),s}function an(e,n){const s=[],t=e.container;if(!n.disableScrollLock){if(sn(t)){const u=kt(G(t));s.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${Je(t)+u}px`;const c=G(t).querySelectorAll(".mui-fixed");[].forEach.call(c,h=>{s.push({value:h.style.paddingRight,property:"padding-right",el:h}),h.style.paddingRight=`${Je(h)+u}px`})}let i;if(t.parentNode instanceof DocumentFragment)i=G(t).body;else{const u=t.parentElement,c=me(t);i=(u==null?void 0:u.nodeName)==="HTML"&&c.getComputedStyle(u).overflowY==="scroll"?u:t}s.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{s.forEach(({value:i,el:u,property:c})=>{i?u.style.setProperty(c,i):u.style.removeProperty(c)})}}function un(e){const n=[];return[].forEach.call(e.children,s=>{s.getAttribute("aria-hidden")==="true"&&n.push(s)}),n}class cn{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(n,s){let t=this.modals.indexOf(n);if(t!==-1)return t;t=this.modals.length,this.modals.push(n),n.modalRef&&ge(n.modalRef,!1);const a=un(s);Qe(s,n.mount,n.modalRef,a,!0);const i=Ne(this.containers,u=>u.container===s);return i!==-1?(this.containers[i].modals.push(n),t):(this.containers.push({modals:[n],container:s,restore:null,hiddenSiblings:a}),t)}mount(n,s){const t=Ne(this.containers,i=>i.modals.indexOf(n)!==-1),a=this.containers[t];a.restore||(a.restore=an(a,s))}remove(n,s=!0){const t=this.modals.indexOf(n);if(t===-1)return t;const a=Ne(this.containers,u=>u.modals.indexOf(n)!==-1),i=this.containers[a];if(i.modals.splice(i.modals.indexOf(n),1),this.modals.splice(t,1),i.modals.length===0)i.restore&&i.restore(),n.modalRef&&ge(n.modalRef,s),Qe(i.container,n.mount,n.modalRef,i.hiddenSiblings,!1),this.containers.splice(a,1);else{const u=i.modals[i.modals.length-1];u.modalRef&&ge(u.modalRef,!1)}return t}isTopModal(n){return this.modals.length>0&&this.modals[this.modals.length-1]===n}}function fn(e){return typeof e=="function"?e():e}function dn(e){return e?e.props.hasOwnProperty("in"):!1}const pn=new cn;function On(e){const{container:n,disableEscapeKeyDown:s=!1,disableScrollLock:t=!1,manager:a=pn,closeAfterTransition:i=!1,onTransitionEnter:u,onTransitionExited:c,children:h,onClose:y,open:m,rootRef:x}=e,T=l.useRef({}),P=l.useRef(null),p=l.useRef(null),R=se(p,x),[H,E]=l.useState(!m),v=dn(h);let d=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(d=!1);const C=()=>G(P.current),k=()=>(T.current.modalRef=p.current,T.current.mount=P.current,T.current),I=()=>{a.mount(k(),{disableScrollLock:t}),p.current&&(p.current.scrollTop=0)},S=oe(()=>{const N=fn(n)||C().body;a.add(k(),N),p.current&&I()}),M=l.useCallback(()=>a.isTopModal(k()),[a]),K=oe(N=>{P.current=N,N&&(m&&M()?I():p.current&&ge(p.current,d))}),A=l.useCallback(()=>{a.remove(k(),d)},[d,a]);l.useEffect(()=>()=>{A()},[A]),l.useEffect(()=>{m?S():(!v||!i)&&A()},[m,A,v,i,S]);const w=N=>F=>{var j;(j=N.onKeyDown)==null||j.call(N,F),!(F.key!=="Escape"||!M())&&(s||(F.stopPropagation(),y&&y(F,"escapeKeyDown")))},W=N=>F=>{var j;(j=N.onClick)==null||j.call(N,F),F.target===F.currentTarget&&y&&y(F,"backdropClick")};return{getRootProps:(N={})=>{const F=we(e);delete F.onTransitionEnter,delete F.onTransitionExited;const j=D({},F,N);return D({role:"presentation"},j,{onKeyDown:w(j),ref:R})},getBackdropProps:(N={})=>{const F=N;return D({"aria-hidden":!0},F,{onClick:W(F),open:m})},getTransitionProps:()=>{const N=()=>{E(!1),u&&u()},F=()=>{E(!0),c&&c(),i&&A()};return{onEnter:Ye(N,h==null?void 0:h.props.onEnter),onExited:Ye(F,h==null?void 0:h.props.onExited)}},rootRef:R,portalRef:K,isTopModal:M,exited:H,hasTransition:v}}function kn(e={}){const{autoHideDuration:n=null,disableWindowBlurListener:s=!1,onClose:t,open:a,resumeHideDuration:i}=e,u=l.useRef();l.useEffect(()=>{if(!a)return;function E(v){v.defaultPrevented||(v.key==="Escape"||v.key==="Esc")&&(t==null||t(v,"escapeKeyDown"))}return document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[a,t]);const c=oe((E,v)=>{t==null||t(E,v)}),h=oe(E=>{!t||E==null||(clearTimeout(u.current),u.current=setTimeout(()=>{c(null,"timeout")},E))});l.useEffect(()=>(a&&h(n),()=>{clearTimeout(u.current)}),[a,n,h]);const y=E=>{t==null||t(E,"clickaway")},m=()=>{clearTimeout(u.current)},x=l.useCallback(()=>{n!=null&&h(i??n*.5)},[n,i,h]),T=E=>v=>{const d=E.onBlur;d==null||d(v),x()},P=E=>v=>{const d=E.onFocus;d==null||d(v),m()},p=E=>v=>{const d=E.onMouseEnter;d==null||d(v),m()},R=E=>v=>{const d=E.onMouseLeave;d==null||d(v),x()};return l.useEffect(()=>{if(!s&&a)return window.addEventListener("focus",x),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",x),window.removeEventListener("blur",m)}},[s,x,a]),{getRootProps:(E={})=>{const v=D({},we(e),we(E));return D({role:"presentation"},E,v,{onBlur:T(v),onFocus:P(v),onMouseEnter:p(v),onMouseLeave:R(v)})},onClickAway:y}}const hn=["onChange","maxRows","minRows","style","value"];function Re(e){return parseInt(e,10)||0}const gn={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function et(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const In=l.forwardRef(function(n,s){const{onChange:t,maxRows:a,minRows:i=1,style:u,value:c}=n,h=Se(n,hn),{current:y}=l.useRef(c!=null),m=l.useRef(null),x=se(s,m),T=l.useRef(null),P=l.useRef(0),[p,R]=l.useState({outerHeightStyle:0}),H=l.useCallback(()=>{const C=m.current,I=me(C).getComputedStyle(C);if(I.width==="0px")return{outerHeightStyle:0};const S=T.current;S.style.width=I.width,S.value=C.value||n.placeholder||"x",S.value.slice(-1)===`
`&&(S.value+=" ");const M=I.boxSizing,K=Re(I.paddingBottom)+Re(I.paddingTop),A=Re(I.borderBottomWidth)+Re(I.borderTopWidth),w=S.scrollHeight;S.value="x";const W=S.scrollHeight;let V=w;i&&(V=Math.max(Number(i)*W,V)),a&&(V=Math.min(Number(a)*W,V)),V=Math.max(V,W);const ie=V+(M==="border-box"?K+A:0),Y=Math.abs(V-w)<=1;return{outerHeightStyle:ie,overflow:Y}},[a,i,n.placeholder]),E=(C,k)=>{const{outerHeightStyle:I,overflow:S}=k;return P.current<20&&(I>0&&Math.abs((C.outerHeightStyle||0)-I)>1||C.overflow!==S)?(P.current+=1,{overflow:S,outerHeightStyle:I}):C},v=l.useCallback(()=>{const C=H();et(C)||R(k=>E(k,C))},[H]);fe(()=>{const C=()=>{const w=H();et(w)||ot.flushSync(()=>{R(W=>E(W,w))})},k=()=>{P.current=0,C()};let I;const S=It(k),M=m.current,K=me(M);K.addEventListener("resize",S);let A;return typeof ResizeObserver<"u"&&(A=new ResizeObserver(k),A.observe(M)),()=>{S.clear(),cancelAnimationFrame(I),K.removeEventListener("resize",S),A&&A.disconnect()}},[H]),fe(()=>{v()}),l.useEffect(()=>{P.current=0},[c]);const d=C=>{P.current=0,y||v(),t&&t(C)};return X.jsxs(l.Fragment,{children:[X.jsx("textarea",D({value:c,onChange:d,ref:x,rows:i,style:D({height:p.outerHeightStyle,overflow:p.overflow?"hidden":void 0},u)},h)),X.jsx("textarea",{"aria-hidden":!0,className:n.className,readOnly:!0,ref:T,tabIndex:-1,style:D({},gn.shadow,u,{paddingTop:0,paddingBottom:0})})]})});function tt(e){return typeof e.normalize<"u"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function mn(e={}){const{ignoreAccents:n=!0,ignoreCase:s=!0,limit:t,matchFrom:a="any",stringify:i,trim:u=!1}=e;return(c,{inputValue:h,getOptionLabel:y})=>{let m=u?h.trim():h;s&&(m=m.toLowerCase()),n&&(m=tt(m));const x=m?c.filter(T=>{let P=(i||y)(T);return s&&(P=P.toLowerCase()),n&&(P=tt(P)),a==="start"?P.indexOf(m)===0:P.indexOf(m)>-1}):c;return typeof t=="number"?x.slice(0,t):x}}function Le(e,n){for(let s=0;s<e.length;s+=1)if(n(e[s]))return s;return-1}const bn=mn(),nt=5,xn=e=>{var n;return e.current!==null&&((n=e.current.parentElement)==null?void 0:n.contains(document.activeElement))};function An(e){const{unstable_isActiveElementInListbox:n=xn,unstable_classNamePrefix:s="Mui",autoComplete:t=!1,autoHighlight:a=!1,autoSelect:i=!1,blurOnSelect:u=!1,clearOnBlur:c=!e.freeSolo,clearOnEscape:h=!1,componentName:y="useAutocomplete",defaultValue:m=e.multiple?[]:null,disableClearable:x=!1,disableCloseOnSelect:T=!1,disabled:P,disabledItemsFocusable:p=!1,disableListWrap:R=!1,filterOptions:H=bn,filterSelectedOptions:E=!1,freeSolo:v=!1,getOptionDisabled:d,getOptionLabel:C=o=>{var r;return(r=o.label)!=null?r:o},groupBy:k,handleHomeEndKeys:I=!e.freeSolo,id:S,includeInputInList:M=!1,inputValue:K,isOptionEqualToValue:A=(o,r)=>o===r,multiple:w=!1,onChange:W,onClose:V,onHighlightChange:ie,onInputChange:Y,onOpen:N,open:F,openOnFocus:j=!1,options:it,readOnly:de=!1,selectOnFocus:lt=!e.freeSolo,value:at}=e,J=At(S);let _=C;_=o=>{const r=C(o);return typeof r!="string"?String(r):r};const Ce=l.useRef(!1),Te=l.useRef(!0),U=l.useRef(null),Q=l.useRef(null),[be,ut]=l.useState(null),[ee,Oe]=l.useState(-1),Me=a?0:-1,q=l.useRef(Me),[b,ct]=He({controlled:at,default:m,name:y}),[L,xe]=He({controlled:K,default:"",name:y,state:"inputValue"}),[ye,$e]=l.useState(!1),Ee=l.useCallback((o,r)=>{if(!(w?b.length<r.length:r!==null)&&!c)return;let g;if(w)g="";else if(r==null)g="";else{const O=_(r);g=typeof O=="string"?O:""}L!==g&&(xe(g),Y&&Y(o,g,"reset"))},[_,L,w,Y,xe,c,b]),[ue,Be]=He({controlled:F,default:!1,name:y,state:"open"}),[ft,Ve]=l.useState(!0),Ke=!w&&b!=null&&L===_(b),Z=ue&&!de,$=Z?H(it.filter(o=>!(E&&(w?b:[b]).some(r=>r!==null&&A(o,r)))),{inputValue:Ke&&ft?"":L,getOptionLabel:_}):[],ne=rt({filteredOptions:$,value:b,inputValue:L});l.useEffect(()=>{const o=b!==ne.value;ye&&!o||v&&!o||Ee(null,b)},[b,Ee,ye,ne.value,v]);const ke=ue&&$.length>0&&!de,ve=oe(o=>{o===-1?U.current.focus():be.querySelector(`[data-tag-index="${o}"]`).focus()});l.useEffect(()=>{w&&ee>b.length-1&&(Oe(-1),ve(-1))},[b,w,ee,ve]);function dt(o,r){if(!Q.current||o===-1)return-1;let f=o;for(;;){if(r==="next"&&f===$.length||r==="previous"&&f===-1)return-1;const g=Q.current.querySelector(`[data-option-index="${f}"]`),O=p?!1:!g||g.disabled||g.getAttribute("aria-disabled")==="true";if(g&&!g.hasAttribute("tabindex")||O)f+=r==="next"?1:-1;else return f}}const le=oe(({event:o,index:r,reason:f="auto"})=>{if(q.current=r,r===-1?U.current.removeAttribute("aria-activedescendant"):U.current.setAttribute("aria-activedescendant",`${J}-option-${r}`),ie&&ie(o,r===-1?null:$[r],f),!Q.current)return;const g=Q.current.querySelector(`[role="option"].${s}-focused`);g&&(g.classList.remove(`${s}-focused`),g.classList.remove(`${s}-focusVisible`));let O=Q.current;if(Q.current.getAttribute("role")!=="listbox"&&(O=Q.current.parentElement.querySelector('[role="listbox"]')),!O)return;if(r===-1){O.scrollTop=0;return}const z=Q.current.querySelector(`[data-option-index="${r}"]`);if(z&&(z.classList.add(`${s}-focused`),f==="keyboard"&&z.classList.add(`${s}-focusVisible`),O.scrollHeight>O.clientHeight&&f!=="mouse"&&f!=="touch")){const B=z,te=O.clientHeight+O.scrollTop,qe=B.offsetTop+B.offsetHeight;qe>te?O.scrollTop=qe-O.clientHeight:B.offsetTop-B.offsetHeight*(k?1.3:0)<O.scrollTop&&(O.scrollTop=B.offsetTop-B.offsetHeight*(k?1.3:0))}}),re=oe(({event:o,diff:r,direction:f="next",reason:g="auto"})=>{if(!Z)return;const z=dt((()=>{const B=$.length-1;if(r==="reset")return Me;if(r==="start")return 0;if(r==="end")return B;const te=q.current+r;return te<0?te===-1&&M?-1:R&&q.current!==-1||Math.abs(r)>1?0:B:te>B?te===B+1&&M?-1:R||Math.abs(r)>1?B:0:te})(),f);if(le({index:z,reason:g,event:o}),t&&r!=="reset")if(z===-1)U.current.value=L;else{const B=_($[z]);U.current.value=B,B.toLowerCase().indexOf(L.toLowerCase())===0&&L.length>0&&U.current.setSelectionRange(L.length,B.length)}}),pt=()=>{const o=(r,f)=>{const g=r?_(r):"",O=f?_(f):"";return g===O};if(q.current!==-1&&ne.filteredOptions&&ne.filteredOptions.length!==$.length&&ne.inputValue===L&&(w?b.length===ne.value.length&&ne.value.every((r,f)=>_(b[f])===_(r)):o(ne.value,b))){const r=ne.filteredOptions[q.current];if(r&&$.some(g=>_(g)===_(r)))return!0}return!1},Ie=l.useCallback(()=>{if(!Z||pt())return;const o=w?b[0]:b;if($.length===0||o==null){re({diff:"reset"});return}if(Q.current){if(o!=null){const r=$[q.current];if(w&&r&&Le(b,g=>A(r,g))!==-1)return;const f=Le($,g=>A(g,o));f===-1?re({diff:"reset"}):le({index:f});return}if(q.current>=$.length-1){le({index:$.length-1});return}le({index:q.current})}},[$.length,w?!1:b,E,re,le,Z,L,w]),ht=oe(o=>{Fe(Q,o),o&&Ie()});l.useEffect(()=>{Ie()},[Ie]);const ae=o=>{ue||(Be(!0),Ve(!0),N&&N(o))},pe=(o,r)=>{ue&&(Be(!1),V&&V(o,r))},ce=(o,r,f,g)=>{if(w){if(b.length===r.length&&b.every((O,z)=>O===r[z]))return}else if(b===r)return;W&&W(o,r,f,g),ct(r)},Pe=l.useRef(!1),he=(o,r,f="selectOption",g="options")=>{let O=f,z=r;if(w){z=Array.isArray(b)?b.slice():[];const B=Le(z,te=>A(r,te));B===-1?z.push(r):g!=="freeSolo"&&(z.splice(B,1),O="removeOption")}Ee(o,z),ce(o,z,O,{option:r}),!T&&(!o||!o.ctrlKey&&!o.metaKey)&&pe(o,O),(u===!0||u==="touch"&&Pe.current||u==="mouse"&&!Pe.current)&&U.current.blur()};function gt(o,r){if(o===-1)return-1;let f=o;for(;;){if(r==="next"&&f===b.length||r==="previous"&&f===-1)return-1;const g=be.querySelector(`[data-tag-index="${f}"]`);if(!g||!g.hasAttribute("tabindex")||g.disabled||g.getAttribute("aria-disabled")==="true")f+=r==="next"?1:-1;else return f}}const ze=(o,r)=>{if(!w)return;L===""&&pe(o,"toggleInput");let f=ee;ee===-1?L===""&&r==="previous"&&(f=b.length-1):(f+=r==="next"?1:-1,f<0&&(f=0),f===b.length&&(f=-1)),f=gt(f,r),Oe(f),ve(f)},Ue=o=>{Ce.current=!0,xe(""),Y&&Y(o,"","clear"),ce(o,w?[]:null,"clear")},mt=o=>r=>{if(o.onKeyDown&&o.onKeyDown(r),!r.defaultMuiPrevented&&(ee!==-1&&["ArrowLeft","ArrowRight"].indexOf(r.key)===-1&&(Oe(-1),ve(-1)),r.which!==229))switch(r.key){case"Home":Z&&I&&(r.preventDefault(),re({diff:"start",direction:"next",reason:"keyboard",event:r}));break;case"End":Z&&I&&(r.preventDefault(),re({diff:"end",direction:"previous",reason:"keyboard",event:r}));break;case"PageUp":r.preventDefault(),re({diff:-nt,direction:"previous",reason:"keyboard",event:r}),ae(r);break;case"PageDown":r.preventDefault(),re({diff:nt,direction:"next",reason:"keyboard",event:r}),ae(r);break;case"ArrowDown":r.preventDefault(),re({diff:1,direction:"next",reason:"keyboard",event:r}),ae(r);break;case"ArrowUp":r.preventDefault(),re({diff:-1,direction:"previous",reason:"keyboard",event:r}),ae(r);break;case"ArrowLeft":ze(r,"previous");break;case"ArrowRight":ze(r,"next");break;case"Enter":if(q.current!==-1&&Z){const f=$[q.current],g=d?d(f):!1;if(r.preventDefault(),g)return;he(r,f,"selectOption"),t&&U.current.setSelectionRange(U.current.value.length,U.current.value.length)}else v&&L!==""&&Ke===!1&&(w&&r.preventDefault(),he(r,L,"createOption","freeSolo"));break;case"Escape":Z?(r.preventDefault(),r.stopPropagation(),pe(r,"escape")):h&&(L!==""||w&&b.length>0)&&(r.preventDefault(),r.stopPropagation(),Ue(r));break;case"Backspace":if(w&&!de&&L===""&&b.length>0){const f=ee===-1?b.length-1:ee,g=b.slice();g.splice(f,1),ce(r,g,"removeOption",{option:b[f]})}break;case"Delete":if(w&&!de&&L===""&&b.length>0&&ee!==-1){const f=ee,g=b.slice();g.splice(f,1),ce(r,g,"removeOption",{option:b[f]})}break}},bt=o=>{$e(!0),j&&!Ce.current&&ae(o)},We=o=>{if(n(Q)){U.current.focus();return}$e(!1),Te.current=!0,Ce.current=!1,i&&q.current!==-1&&Z?he(o,$[q.current],"blur"):i&&v&&L!==""?he(o,L,"blur","freeSolo"):c&&Ee(o,b),pe(o,"blur")},xt=o=>{const r=o.target.value;L!==r&&(xe(r),Ve(!1),Y&&Y(o,r,"input")),r===""?!x&&!w&&ce(o,null,"clear"):ae(o)},yt=o=>{const r=Number(o.currentTarget.getAttribute("data-option-index"));q.current!==r&&le({event:o,index:r,reason:"mouse"})},Et=o=>{le({event:o,index:Number(o.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Pe.current=!0},vt=o=>{const r=Number(o.currentTarget.getAttribute("data-option-index"));he(o,$[r],"selectOption"),Pe.current=!1},Pt=o=>r=>{const f=b.slice();f.splice(o,1),ce(r,f,"removeOption",{option:b[o]})},je=o=>{ue?pe(o,"toggleInput"):ae(o)},Rt=o=>{o.currentTarget.contains(o.target)&&o.target.getAttribute("id")!==J&&o.preventDefault()},wt=o=>{o.currentTarget.contains(o.target)&&(U.current.focus(),lt&&Te.current&&U.current.selectionEnd-U.current.selectionStart===0&&U.current.select(),Te.current=!1)},St=o=>{!P&&(L===""||!ue)&&je(o)};let Ae=v&&L.length>0;Ae=Ae||(w?b.length>0:b!==null);let _e=$;return k&&(_e=$.reduce((o,r,f)=>{const g=k(r);return o.length>0&&o[o.length-1].group===g?o[o.length-1].options.push(r):o.push({key:f,index:f,group:g,options:[r]}),o},[])),P&&ye&&We(),{getRootProps:(o={})=>D({"aria-owns":ke?`${J}-listbox`:null},o,{onKeyDown:mt(o),onMouseDown:Rt,onClick:wt}),getInputLabelProps:()=>({id:`${J}-label`,htmlFor:J}),getInputProps:()=>({id:J,value:L,onBlur:We,onFocus:bt,onChange:xt,onMouseDown:St,"aria-activedescendant":Z?"":null,"aria-autocomplete":t?"both":"list","aria-controls":ke?`${J}-listbox`:void 0,"aria-expanded":ke,autoComplete:"off",ref:U,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:P}),getClearProps:()=>({tabIndex:-1,onClick:Ue}),getPopupIndicatorProps:()=>({tabIndex:-1,onClick:je}),getTagProps:({index:o})=>D({key:o,"data-tag-index":o,tabIndex:-1},!de&&{onDelete:Pt(o)}),getListboxProps:()=>({role:"listbox",id:`${J}-listbox`,"aria-labelledby":`${J}-label`,ref:ht,onMouseDown:o=>{o.preventDefault()}}),getOptionProps:({index:o,option:r})=>{const f=(w?b:[b]).some(O=>O!=null&&A(r,O)),g=d?d(r):!1;return{key:_(r),tabIndex:-1,role:"option",id:`${J}-option-${o}`,onMouseMove:yt,onClick:vt,onTouchStart:Et,"data-option-index":o,"aria-disabled":g,"aria-selected":f}},id:J,inputValue:L,value:b,dirty:Ae,expanded:Z&&be,popupOpen:Z,focused:ye||ee!==-1,anchorEl:be,setAnchorEl:ut,focusedTag:ee,groupedOptions:_e}}export{Sn as C,Cn as F,Tn as P,In as T,wn as a,Kt as b,On as c,Xt as d,kn as e,Lt as f,mn as g,Nt as i,An as u};
