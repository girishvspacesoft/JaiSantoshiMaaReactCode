import{r as W,a as e}from"./react-bfabd40c.js";import{u as te,a as De}from"./react-redux-45d870ba.js";import{L as xe,A as Pe,D as Be}from"./x-date-pickers-7b1cc7dd.js";import"./Card.module-3bdbfb7f.js";import{aY as je,be as Ve,b7 as ie,b8 as ae,b9 as re,ba as le,bb as se,L as Ue,O as We,al as $,bf as Qe,b2 as Xe,b3 as $e,S as ze}from"./index-60b53c60.js";import{T as Ge}from"./TransactionDetails-b594e31e.js";import{a as Je,b as Ke}from"./react-router-1b5f20a2.js";import{O as Ze,Q as en,a as G,i as l,A as z,h as s,V as u,D as nn,m as M,l as J}from"./material-e0a59a28.js";import"./@babel-e11bafe1.js";import"./react-dom-b0178e93.js";import"./scheduler-765c72db.js";import"./hoist-non-react-statics-6cfbf744.js";import"./use-sync-external-store-18921cc2.js";import"./@date-io-f382d426.js";import"./dayjs-7f45ce31.js";import"./utils-c03c978f.js";import"./clsx-1229b3e0.js";import"./base-ff50cfe3.js";import"./@popperjs-f3391c26.js";import"./rifm-7b0f12ad.js";import"./system-a1d29c52.js";import"./styled-engine-f3bd09bf.js";import"./@emotion-77835cc8.js";import"./stylis-79144faa.js";import"./private-theming-970ac73c.js";import"./react-transition-group-7ded6f4d.js";import"./dom-helpers-9a525042.js";import"./redux-persist-d9cc1560.js";import"./redux-b7ba668d.js";import"./@reduxjs-4d37e7cf.js";import"./immer-41fd5235.js";import"./redux-thunk-ef899f4c.js";import"./axios-4a70c6fc.js";import"./react-router-dom-4405dfe9.js";import"./@remix-run-d753ad9e.js";import"./icons-material-4539f19e.js";import"./react-icons-55b3b9a0.js";import"./x-data-grid-cceece3f.js";import"./prop-types-d7fd566a.js";import"./reselect-36a88051.js";const oe={branch:"",lrNo:"",date:new Date,invoiceNo:"",eWayBillNo:"",foNum:"",consignor:null,consignorAddress:"",consignorPhone:"",consignorEmail:"",consignee:null,consigneeAddress:"",consigneePhone:"",consigneeEmail:"",from:"",to:"",totalFreight:"",hamali:"",deliveryCharges:"",lrCharges:10,total:"",materialCost:"",deliveryType:null,serviceTaxBy:null,payType:null,toBilled:null,collectAt:null,payMode:null,bankName:"",chequeNo:"",chequeDate:null,remark:"",transactions:[]},K={branch:{invalid:!1,message:""},date:{invalid:!1,message:""},consignor:{invalid:!1,message:""},consignorAddress:{invalid:!1,message:""},consignorPhone:{invalid:!1,message:""},consignorEmail:{invalid:!1,message:""},from:{invalid:!1,message:""},consignee:{invalid:!1,message:""},consigneeAddress:{invalid:!1,message:""},consigneePhone:{invalid:!1,message:""},consigneeEmail:{invalid:!1,message:""},to:{invalid:!1,message:""},totalFreight:{invalid:!1,message:""},lrCharges:{invalid:!1,message:""},payType:{invalid:!1,message:""},payMode:{invalid:!1,message:""},bankName:{invalid:!1,message:""},chequeNo:{invalid:!1,message:""},chequeDate:{invalid:!1,message:""},transactionDetails:{invalid:!1,message:""}},Dn=()=>{var _,ue,D,ge,ve,he,Ee,pe;const qe=te(je),{articles:Fe,customers:b,branches:R,places:y}=te(({lorryreceipt:n})=>n),[a,g]=W.useState(oe),[i,Z]=W.useState(K),[H,q]=W.useState(""),A=te(n=>n.user),me=Je(),Ie=Ke(),ee=De(),{lrId:Y}=Ie.state;W.useEffect(()=>{const n=Object.keys(i);if(n!=null&&n.length){const t=document.querySelector(`input[name=${n[0]}]`);t==null||t.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}},[i]),W.useEffect(()=>{if(H){const n=document.getElementById("alertError");n==null||n.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}},[H]),W.useEffect(()=>{Y&&Y!==""&&(b!=null&&b.length)&&ee(Ve(Y)).then(({payload:n={}})=>{var o,d,v,p,F,f,I,r,m,N,k,h,S,x,L,fe,j,be,V,ye,U,Ne,Q,Ce,X,Te,Ae;const{message:t}=(n==null?void 0:n.data)||{};if(t)q(t);else{q("");const C={...n==null?void 0:n.data},P=(o=b==null?void 0:b.map)==null?void 0:o.call(b,E=>E._id),He=(d=P==null?void 0:P.indexOf)==null?void 0:d.call(P,n==null?void 0:n.data.consignor),Ye=b[He],we=(v=P==null?void 0:P.indexOf)==null?void 0:v.call(P,n==null?void 0:n.data.consignee),_e=b[we];if(n!=null&&n.data.deliveryType){const E=(I=(f=(F=(p=ie)==null?void 0:p.map)==null?void 0:F.call(p,B=>B.label))==null?void 0:f.indexOf)==null?void 0:I.call(f,n==null?void 0:n.data.deliveryType),T=ie[E];C.deliveryType=T}if(n!=null&&n.data.payType){const E=(k=(N=(m=(r=ae)==null?void 0:r.map)==null?void 0:m.call(r,B=>B.label))==null?void 0:N.indexOf)==null?void 0:k.call(N,n==null?void 0:n.data.payType),T=ae[E];C.payType=T}if(n!=null&&n.data.toBilled){const E=(L=(x=(S=(h=re)==null?void 0:h.map)==null?void 0:S.call(h,B=>B.label))==null?void 0:x.indexOf)==null?void 0:L.call(x,n==null?void 0:n.data.toBilled),T=re[E];C.toBilled=T}if(n!=null&&n.data.collectAt){const E=(be=(j=(fe=y==null?void 0:y.map)==null?void 0:fe.call(y,B=>B.name))==null?void 0:j.indexOf)==null?void 0:be.call(j,n==null?void 0:n.data.collectAt),T=y[E];C.collectAt=T}if(n!=null&&n.data.serviceTaxBy){const E=(Ne=(U=(ye=(V=le)==null?void 0:V.map)==null?void 0:ye.call(V,B=>B.label))==null?void 0:U.indexOf)==null?void 0:Ne.call(U,n==null?void 0:n.data.serviceTaxBy),T=le[E];C.serviceTaxBy=T}if(C.consignor=Ye,C.consignee=_e,C.payMode){const E=(Te=(X=(Ce=(Q=se)==null?void 0:Q.map)==null?void 0:Ce.call(Q,T=>T.value))==null?void 0:X.indexOf)==null?void 0:Te.call(X,n==null?void 0:n.data.payMode);C.payMode=se[E]}C.branch=(Ae=R==null?void 0:R.find)==null?void 0:Ae.call(R,({_id:E})=>E===C.branch),g(C)}}).catch(n=>{q(n.message)})},[Y,b,y]);const ne=W.useCallback(()=>{me("/transactions/lorryReceipts")},[me]);W.useEffect(()=>{var t,o,d;let n=0;(t=a.transactions)!=null&&t.length&&((d=(o=a.transactions)==null?void 0:o.forEach)==null||d.call(o,v=>{n+=+v.freight})),g(v=>({...v,totalFreight:n}))},[a.transactions]),W.useEffect(()=>{const n=+a.totalFreight+ +a.deliveryCharges+ +a.lrCharges+ +a.hamali;g(t=>({...t,total:n}))},[a.totalFreight,a.deliveryCharges,a.lrCharges,a.hamali]);const ke=()=>{ne()},c=n=>{const t=n.target.name,o=n.target.value;g(d=>({...d,[t]:o}))},w=(n,t,o=!1)=>{var d,v,p,F,f,I;if(n.preventDefault(),!Se(a)){const r={...a,branch:(d=a==null?void 0:a.branch)==null?void 0:d._id,user:((v=A==null?void 0:A.employee)==null?void 0:v.name)||""};r.consignor&&(r.consignor=r.consignor._id,r.consignee=r.consignee._id),r.deliveryType&&(r.deliveryType=r.deliveryType.value),r.payType&&(r.payType=r.payType.value),r.toBilled&&(r.toBilled=r.toBilled.value),r.collectAt&&(r.collectAt=r.collectAt.value),(p=r.serviceTaxBy)!=null&&p.value&&(r.serviceTaxBy=(F=r.serviceTaxBy)==null?void 0:F.value),(I=(f=r.transactions)==null?void 0:f.forEach)==null||I.call(f,m=>{m.article=m.article.label?m.article.label:m.article,m.rateType=m.rateType.label?m.rateType.label:m.rateType}),r.payMode&&(r.payMode=r.payMode.value),ee(Qe(r)).then(({payload:m={}})=>{var k;const{message:N}=(m==null?void 0:m.data)||{};N?q(N):t?m!=null&&m.data._id&&ee(Xe({id:m==null?void 0:m.data._id,email:"",isWithoutAmount:o,user:((k=A==null?void 0:A.employee)==null?void 0:k.name)||""})).then(({payload:h={}})=>{var x;const S=$e((x=h==null?void 0:h.data)==null?void 0:x.file);if(S){const L=window.open(S,"_blank");L.focus(),L.print(),q(""),Z(K),g(oe),ne()}}).catch(h=>{q(h.message)}):(q(""),Z(K),g(oe),ne())}).catch(m=>{q(m.message)})}},ce=(n,t)=>{n.preventDefault(),w(n,!0,t)},Se=n=>{var d,v,p,F,f,I,r,m,N,k,h,S,x;const t={...K};n.branch||(t.branch={invalid:!0,message:"Branch is required"}),!n.consignor&&!((v=(d=n.consignorName)==null?void 0:d.trim)!=null&&v.call(d))&&(t.consignor={invalid:!0,message:"Consignor is required"}),n.consignorAddress||(t.consignorAddress={invalid:!0,message:"Consignor address is required"}),(F=(p=n.from)==null?void 0:p.trim)!=null&&F.call(p)||(t.from={invalid:!0,message:"From is required"}),!n.consignee&&!((I=(f=n.consigneeName)==null?void 0:f.trim)!=null&&I.call(f))&&(t.consignee={invalid:!0,message:"Consignee is required"}),n.consigneeAddress||(t.consigneeAddress={invalid:!0,message:"Consignee address is required"}),(m=(r=n.consigneeEmail)==null?void 0:r.trim)!=null&&m.call(r)&&!ze.test(n.consigneeEmail)&&(t.consigneeEmail={invalid:!0,message:"Email is invalid"}),(k=(N=n.consignorEmail)==null?void 0:N.trim)!=null&&k.call(N)&&!ze.test(n.consignorEmail)&&(t.consignorEmail={invalid:!0,message:"Email is invalid"}),(S=(h=n.to)==null?void 0:h.trim)!=null&&S.call(h)||(t.to={invalid:!0,message:"To is required"}),(x=n.transactions)!=null&&x.length||(t.transactionDetails={invalid:!0,message:"At lease 1 transaction is required"}),n.lrCharges||(t.lrCharges={invalid:!0,message:"LR charges are required"}),n.payType||(t.payType={invalid:!0,message:"Payment type is required"}),!n.payMode&&n.payType==="Paid"&&(t.payMode={invalid:!0,message:"Payment mode is required"}),n.payType&&n.payType.value&&n.payType.value==="Paid"&&n.payMode&&n.payMode.value==="By Cheque"&&(n.bankName||(t.bankName={invalid:!0,message:"Bank name is required"}),n.chequeNo||(t.chequeNo={invalid:!0,message:"Cheque no is required"}),n.chequeDate||(t.chequeDate={invalid:!0,message:"Cheque date is required"}));let o=!1;for(const L in t)t[L].invalid===!0&&(o=!0);return o&&Z(t),o},de=(n,t)=>{g(o=>({...o,[n]:new Date(t)}))},Oe=(n,t)=>{t?typeof t=="object"&&g(o=>({...o,consignor:t,consignorName:t.label,consignorAddress:t.address,from:t.city,consignorPhone:t.telephone,consignorEmail:t.email})):g(o=>({...o,consignor:null,consignorName:"",consignorAddress:"",consignorPhone:"",consignorEmail:"",from:""}))},Le=({target:n})=>{g(t=>({...t,consignorName:n.value}))},Re=(n,t)=>{t?typeof t=="object"&&g(o=>({...o,consignee:t,consigneeName:t.label,consigneeAddress:t.address,to:t.city,consigneePhone:t.telephone,consigneeEmail:t.email})):g(o=>({...o,consignee:null,consigneeName:"",consigneeAddress:"",consigneePhone:"",consigneeEmail:"",to:""}))},Me=({target:n})=>{g(t=>({...t,consigneeName:n.value}))},O=(n,t,o)=>{g(d=>{var v;return{...d,[o]:t,...o==="branch"?{collectAt:(v=y==null?void 0:y.find)==null?void 0:v.call(y,({_id:p})=>p===(t==null?void 0:t.place))}:{}}})};return e.createElement(e.Fragment,null,qe&&e.createElement(Ue,null),e.createElement("h1",{className:"pageHead"},"Edit a lorry receipt"),e.createElement("div",{className:"inner-wrap"},H!==""&&e.createElement(Ze,{sx:{width:"100%",margin:"0 0 30px 0",border:"1px solid red",borderRadius:"4px"},spacing:2},e.createElement(en,{id:"alertError",severity:"error"},H)),e.createElement("form",{action:"",onSubmit:w,id:"lorryReceiptForm"},e.createElement(G,{sx:{padding:"20px",marginBottom:"20px"}},e.createElement("div",{className:"grid grid-6-col"},e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,size:"small",error:i.branch.invalid},e.createElement(z,{disablePortal:!0,size:"small",name:"branch",options:R,value:a.branch||null,onChange:(n,t)=>O(n,t,"branch"),getOptionLabel:n=>n.name,openOnFocus:!0,disabled:A&&A.type&&((ue=(_=A.type)==null?void 0:_.toLowerCase)==null?void 0:ue.call(_))!=="superadmin"&&((ge=(D=A.type)==null?void 0:D.toLowerCase)==null?void 0:ge.call(D))!=="admin",renderInput:n=>e.createElement(s,{...n,label:"Branch",name:"branch",error:i.branch.invalid,fullWidth:!0})}),i.branch.invalid&&e.createElement(u,null,i.branch.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",variant:"outlined",label:"LR no.",value:a.lrNo,onChange:c,name:"lrNo",id:"lrNo",inputProps:{readOnly:!0}}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(xe,{dateAdapter:Pe},e.createElement(Be,{label:"Date",inputFormat:"DD/MM/YYYY",value:a.date,onChange:de.bind(null,"date"),renderInput:n=>e.createElement(s,{name:"date",size:"small",...n})})))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",variant:"outlined",label:"Invoice no.",value:a.invoiceNo,onChange:c,name:"invoiceNo",id:"invoiceNo"}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",variant:"outlined",label:"E-Way bill no",value:a.eWayBillNo,onChange:c,name:"eWayBillNo",id:"eWayBillNo"}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",variant:"outlined",label:"FO no",value:a.foNum,onChange:c,name:"foNum",id:"foNum"}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,size:"small",error:i.consignor.invalid},e.createElement(z,{id:"consignor",freeSolo:!0,autoSelect:!0,size:"small",name:"consignor",options:b,value:a.consignor,onChange:Oe,openOnFocus:!0,renderInput:n=>e.createElement(s,{...n,label:"Consignor",name:"consignor",onChange:t=>Le(t),error:i.consignor.invalid,fullWidth:!0})}),i.consignor.invalid&&e.createElement(u,null,i.consignor.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.consignorAddress.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"Consignor address",value:a.consignorAddress,error:i.consignorAddress.invalid,onChange:c,name:"consignorAddress",id:"consignorAddress"}),i.consignorAddress.invalid&&e.createElement(u,null,i.consignorAddress.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.consignorPhone.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"Consignor phone",value:a.consignorPhone,error:i.consignorPhone.invalid,onChange:c,onInput:We,name:"consignorPhone",id:"consignorPhone"}),i.consignorPhone.invalid&&e.createElement(u,null,i.consignorPhone.message)))," ",e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.consignorEmail.invalid},e.createElement(s,{type:"text",size:"small",variant:"outlined",label:"Consignor email",value:a.consignorEmail||"",error:i.consignorEmail.invalid,onChange:c,name:"consignorEmail",id:"consignorEmail"}),i.consignorEmail.invalid&&e.createElement(u,null,i.consignorEmail.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.from.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"From",error:i.from.invalid,value:a.from,onChange:c,name:"from",id:"from"}),i.from.invalid&&e.createElement(u,null,i.from.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,size:"small",error:i.consignee.invalid},e.createElement(z,{id:"consignee",freeSolo:!0,autoSelect:!0,size:"small",name:"consignee",options:b,value:a.consignee,onChange:Re,openOnFocus:!0,renderInput:n=>e.createElement(s,{...n,label:"Consignee",name:"consignee",onChange:t=>Me(t),error:i.consignee.invalid,fullWidth:!0})}),i.consignee.invalid&&e.createElement(u,null,i.consignee.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.consigneeAddress.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"Consignee address",value:a.consigneeAddress,error:i.consigneeAddress.invalid,onChange:c,name:"consigneeAddress",id:"consigneeAddress"}),i.consigneeAddress.invalid&&e.createElement(u,null,i.consigneeAddress.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.consigneePhone.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"Consignee phone",value:a.consigneePhone,error:i.consigneePhone.invalid,onChange:c,onInput:We,name:"consigneePhone",id:"consigneePhone"}),i.consigneePhone.invalid&&e.createElement(u,null,i.consigneePhone.message)))," ",e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.consigneeEmail.invalid},e.createElement(s,{type:"text",size:"small",variant:"outlined",label:"Consignee email",value:a.consigneeEmail||"",error:i.consigneeEmail.invalid,onChange:c,name:"consigneeEmail",id:"consigneeEmail"}),i.consigneeEmail.invalid&&e.createElement(u,null,i.consigneeEmail.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.to.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"To",error:i.to.invalid,value:a.to,onChange:c,name:"to",id:"to"}),i.to.invalid&&e.createElement(u,null,i.to.message)))))),e.createElement("h2",{className:"mb20"},"Transactions details"),i.transactionDetails.invalid&&e.createElement("p",{className:"error"},i.transactionDetails.message),e.createElement(G,{sx:{padding:"20px",marginBottom:"20px"}},e.createElement(Ge,{articles:Fe,lorryReceipt:a,setLorryReceipt:g}),e.createElement(nn,{sx:{margin:"20px 0"}}),e.createElement("form",{action:"",onSubmit:w,id:"lorryReceiptForm"},e.createElement("div",{className:"grid grid-7-col"},e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",type:"number",variant:"outlined",label:"Total freight",value:a.totalFreight,name:"totalFreight",id:"totalFreight",InputProps:{readOnly:!0,startAdornment:e.createElement(M,{position:"start"},"₹")}}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",variant:"outlined",label:"Delivery charges",value:a.deliveryCharges||"",name:"deliveryCharges",id:"deliveryCharges",onChange:c,onInput:$,InputProps:{startAdornment:e.createElement(M,{position:"start"},"₹")}}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.lrCharges.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"LR charges",value:a.lrCharges||"",error:i.lrCharges.invalid,name:"lrCharges",id:"lrCharges",onChange:c,onInput:$,InputProps:{startAdornment:e.createElement(M,{position:"start"},"₹")}}),i.lrCharges.invalid&&e.createElement(u,null,i.lrCharges.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",variant:"outlined",label:"Hamali",value:a.hamali||"",name:"hamali",id:"hamali",onChange:c,onInput:$,InputProps:{startAdornment:e.createElement(M,{position:"start"},"₹")}}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",type:"number",variant:"outlined",label:"Total",value:a.total,name:"total",id:"total",InputProps:{readOnly:!0,startAdornment:e.createElement(M,{position:"start"},"₹")}})))))),e.createElement("form",{action:"",onSubmit:w,id:"lorryReceiptForm"},e.createElement("h2",{className:"mb20"},"Billing details"),e.createElement(G,{sx:{padding:"20px",marginBottom:"20px"}},e.createElement("div",{className:"grid grid-6-col"},e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",variant:"outlined",label:"Material cost",value:a.materialCost||"",onChange:c,onInput:$,name:"materialCost",id:"materialCost"}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,size:"small"},e.createElement(z,{disablePortal:!0,autoSelect:!0,autoHighlight:!0,size:"small",name:"deliveryType",options:ie,value:a.deliveryType,onChange:(n,t)=>O(n,t,"deliveryType"),disabled:!0,openOnFocus:!0,renderInput:n=>e.createElement(s,{...n,name:"deliveryType",label:"Delivery type",fullWidth:!0})}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,size:"small",error:i.payType.invalid},e.createElement(z,{disablePortal:!0,autoSelect:!0,autoHighlight:!0,size:"small",name:"payType",options:ae,value:a.payType,onChange:(n,t)=>O(n,t,"payType"),openOnFocus:!0,renderInput:n=>e.createElement(s,{...n,label:"Pay type",name:"payType",error:i.payType.invalid,fullWidth:!0})}),i.payType.invalid&&e.createElement(u,null,i.payType.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,size:"small"},e.createElement(z,{disablePortal:!0,autoSelect:!0,autoHighlight:!0,size:"small",name:"toBilled",options:re,value:a.toBilled,onChange:(n,t)=>O(n,t,"toBilled"),openOnFocus:!0,renderInput:n=>e.createElement(s,{...n,name:"toBilled",label:"To billed",fullWidth:!0})}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,size:"small"},e.createElement(z,{disablePortal:!0,autoSelect:!0,autoHighlight:!0,size:"small",name:"collectAt",options:y,value:a.collectAt,onChange:(n,t)=>O(n,t,"collectAt"),openOnFocus:!0,renderInput:n=>e.createElement(s,{...n,name:"collectAt",label:"Collect at",fullWidth:!0})}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,size:"small"},e.createElement(z,{disablePortal:!0,autoSelect:!0,autoHighlight:!0,size:"small",name:"serviceTaxBy",options:le,value:a.serviceTaxBy,onChange:(n,t)=>O(n,t,"serviceTaxBy"),openOnFocus:!0,renderInput:n=>e.createElement(s,{...n,name:"serviceTaxBy",label:"Service tax by",fullWidth:!0})}))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.payMode.invalid},e.createElement(z,{disablePortal:!0,autoSelect:!0,autoHighlight:!0,size:"small",name:"payMode",options:se,value:a.payMode,disabled:((ve=a.payType)==null?void 0:ve.value)!=="Paid",onChange:(n,t)=>O(n,t,"payMode"),openOnFocus:!0,renderInput:n=>e.createElement(s,{...n,label:"Pay mode",name:"payMode",error:i.payMode.invalid,fullWidth:!0})}),i.payMode.invalid&&e.createElement(u,null,i.payMode.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.bankName.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"Bank name",value:a.bankName,onChange:c,error:i.bankName.invalid,disabled:((he=a.payMode)==null?void 0:he.value)!=="By Cheque",name:"bankName",id:"bankName"}),i.bankName.invalid&&e.createElement(u,null,i.bankName.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.chequeNo.invalid},e.createElement(s,{size:"small",variant:"outlined",label:"Cheque no",value:a.chequeNo,onChange:c,error:i.chequeNo.invalid,disabled:((Ee=a.payMode)==null?void 0:Ee.value)!=="By Cheque",name:"chequeNo",id:"chequeNo"}),i.chequeNo.invalid&&e.createElement(u,null,i.chequeNo.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0,error:i.chequeDate.invalid},e.createElement(xe,{dateAdapter:Pe},e.createElement(Be,{label:"Date",inputFormat:"DD/MM/YYYY",value:a.chequeDate,onChange:de.bind(null,"chequeDate"),error:i.chequeDate.invalid,disabled:((pe=a.payMode)==null?void 0:pe.value)!=="By Cheque",renderInput:n=>e.createElement(s,{name:"date",size:"small",...n,error:i.chequeDate.invalid})})),i.chequeDate.invalid&&e.createElement(u,null,i.chequeDate.message))),e.createElement("div",{className:"grid-item"},e.createElement(l,{fullWidth:!0},e.createElement(s,{size:"small",variant:"outlined",label:"Remark",value:a.remark,onChange:c,name:"remark",id:"remark"})))))),e.createElement(G,{sx:{padding:"20px",marginBottom:"20px"}},e.createElement("div",{className:"right"},e.createElement(J,{variant:"outlined",size:"medium",onClick:ke},"Back"),e.createElement(J,{variant:"contained",size:"medium",type:"submit",color:"primary",form:"lorryReceiptForm",className:"ml6"},"Save"),e.createElement(J,{variant:"contained",size:"medium",type:"button",color:"primary",form:"lorryReceiptForm",className:"ml6",onClick:ce},"Save & Print"),e.createElement(J,{variant:"contained",size:"medium",type:"button",color:"primary",form:"lorryReceiptForm",className:"ml6",onClick:n=>ce(n,!0)},"Save & Print w/o Amount")))))};export{Dn as default};
